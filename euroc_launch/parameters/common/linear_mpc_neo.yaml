
#==================================================================================================================
#
# Project:  Baseline MPC for NEO.
#
# function: MPC Position controller and Kalman Filter parameters.
#
# Author: Mina Kamel  mina.kamel@ethz.ch
#
# Generated:  10-Aug-2015 00:57:59
#
#==================================================================================================================

## Controller Parameters:
controller:
  mass: 2.687
  n_state : 8
  n_input : 3
  n_measurement : 6
  n_disturbance : 3
  A : [1.0,                0,              0,             0,              0,           0,            0,            0, 0,              1.0,              0,             0,              0,           0,            0,            0,0,                0,            1.0,             0,              0,           0,            0,            0,0.009999500017,                0,              0,   0.999900005,              0,           0,            0,            0,0,   0.009999500017,              0,             0,    0.999900005,           0,            0,            0,0,                0, 0.009999500017,             0,              0, 0.999900005,            0,            0,0, -0.0004817641818,              0,             0, -0.09549096445,           0, 0.9473808953,            0,0.0004808382984,                0,              0, 0.09521582392,              0,           0,            0, 0.9418773265]
  B : [ 0, -0.000007934716442,                0,              0, -0.002369758948,              0, 0.04788338524,             0,0.000009259537945,                  0,                0, 0.002764100398,               0,              0,             0, 0.05579776655,                 0,                  0, 0.00004999833337,              0,               0, 0.009999500017,             0,             0]
  Bd : [ 0.000050, 0.000000, 0.000000, 0.010000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000050, 0.000000, 0.000000, 0.010000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000050, 0.000000, 0.000000, 0.010000, 0.000000, 0.000000]
  C : [ 1.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 1.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 1.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 1.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 1.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 1.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000]
  drag_coefficients : [ 0.010000 , 0.010000 , 0.010000]

  #command_position_filter_time_constant : 0.2
  #command_velocity_filter_time_constant : 0.2
  height_error_integration_limit : 25

# dynamic config default values:
  q_x : 30
  q_y : 30
  q_z : 130

  q_vx : 10
  q_vy : 10
  q_vz : 10

  q_roll  : 30
  q_pitch : 30

  r_roll  : 100
  r_pitch : 100
  r_thrust : 20

  r_droll  : 0.25
  r_dpitch : 0.25
  r_dthrust: 0.002

  roll_max  : deg(25.0)
  pitch_max : deg(25.0)
  thrust_max: 5

  K_yaw : 1.8
  Ki_height : 0.0

  use_xy_offset_free : true
  use_height_error_integrator : false
  use_KF_estimated_state : false

## Kalman Filter Parameters:
observer:
  calibration_duration : 5 #sec
  n_measurement : 9
  P_0 :  [ 0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000 ,0.100000]
  Q :  [ 0.010000 ,0.010000 ,0.010000 ,0.025000 ,0.025000 ,0.025000 ,0.015000 ,0.015000 ,0.015000 ,0.020000 ,0.020000 ,0.020000 ,0.010000 ,0.010000 ,0.010000 ,0.010000 ,0.010000 ,0.010000]
  R :  [ 0.001000 ,0.001000 ,0.001000 ,0.001200 ,0.001200 ,0.001200 ,0.010000 ,0.010000 ,0.010000]
  F : [1.0,                0,                0,              0,              0,              0,                0,                0,                0,              0,              0,              0,   0,   0,   0,   0,   0,   0,                0,              1.0,                0,              0,              0,              0,                0,                0,                0,              0,              0,              0,   0,   0,   0,   0,   0,   0,                0,                0,              1.0,              0,              0,              0,                0,                0,                0,              0,              0,              0,   0,   0,   0,   0,   0,   0,   0.009999500017,                0,                0,    0.999900005,              0,              0,                0,                0,                0,              0,              0,              0,   0,   0,   0,   0,   0,   0,                0,   0.009999500017,                0,              0,    0.999900005,              0,                0,                0,                0,              0,              0,              0,   0,   0,   0,   0,   0,   0,                0,                0,   0.009999500017,              0,              0,    0.999900005,                0,                0,                0,              0,              0,              0,   0,   0,   0,   0,   0,   0,                0,                0,                0,              0,              0,              0,     0.9975844534,                0,                0,  -0.4748508755,              0,              0,   0,   0,   0,   0,   0,   0,                0,                0,                0,              0,              0,              0,                0,     0.9975889242,                0,              0,  -0.4735332512,              0,   0,   0,   0,   0,   0,   0,                0,                0,                0,              0,              0,              0,                0,                0,     0.9987889115,              0,              0,  -0.2383929333,   0,   0,   0,   0,   0,   0,                0,                0,                0,              0,              0,              0,   0.009499886476,                0,                0,   0.9008680092,              0,              0,   0,   0,   0,   0,   0,   0,                0,                0,                0,              0,              0,              0,                0,   0.009473526028,                0,              0,   0.8957826241,              0,   0,   0,   0,   0,   0,   0,                0,                0,                0,              0,              0,              0,                0,                0,   0.009535717332,              0,              0,   0.9081995969,   0,   0,   0,   0,   0,   0, 0.00004999833337,                0,                0, 0.009999500017,              0,              0,                0,                0,                0,              0,              0,              0, 1.0,   0,   0,   0,   0,   0,                0, 0.00004999833337,                0,              0, 0.009999500017,              0,                0,                0,                0,              0,              0,              0,   0, 1.0,   0,   0,   0,   0,                0,                0, 0.00004999833337,              0,              0, 0.009999500017,                0,                0,                0,              0,              0,              0,   0,   0, 1.0,   0,   0,   0,                0,                0,                0,              0,              0,              0, 0.00004832552555,                0,                0, 0.009499886476,              0,              0,   0,   0,   0, 1.0,   0,   0,                0,                0,                0,              0,              0,              0,                0, 0.00004823608413,                0,              0, 0.009473526028,              0,   0,   0,   0,   0, 1.0,   0,                0,                0,                0,              0,              0,              0,                0,                0, 0.00004844353828,              0,              0, 0.009535717332,   0,   0,   0,   0,   0, 1.0]
  drag_coefficients : [ 0.010000 , 0.010000 , 0.010000]
  omega_limit :  [ 3.000000 ,3.000000 ,2.000000]
  external_forces_limit :  [ 5.000000 ,5.000000 ,2.5000000]      #m/s^2
  external_moments_limit :  [ 20.000000 ,20.000000 ,20.000000]  #rad/s^2
  #Data from SysID
  roll_omega : 7.62
  roll_damping : 0.73
  roll_gain : 0.8
  pitch_omega : 7.7
  pitch_damping : 0.86
  pitch_gain : 0.95
  yaw_omega : 5.000000
  yaw_damping : 0.950000
  yaw_gain : 1.000000
