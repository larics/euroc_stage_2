%YAML:1.0
cameras:
    - {T_SC: #cam2
      [ 0.9999806894, -0.0046838582,  0.0040844080, -0.0761012142,
        0.0047335042,  0.9999139917, -0.0122312383, -0.0091260209,
       -0.0040267673,  0.0122503357,  0.9999168538, -0.0068668264,
        0.0000000000,  0.0000000000,  0.0000000000,  1.0000000000],
       image_dimension: [752, 480],
       distortion_type: equidistant,
       distortion_coefficients: [0.005607134386698993, -0.03309364455152734, 0.0741160530359484, -0.04707649237679751],
       focal_length: [468.4347356756471, 467.74142438522057],
       principal_point: [381.7863900208179, 249.97381969372634]}

    - {T_SC: #cam0
      [ 0.9999924381, -0.0030774924, -0.0023775493,  0.0339638327,
        0.0030534661,  0.9999448969, -0.0100438830, -0.0077621971,
        0.0024083282,  0.0100365473,  0.9999467324, -0.0084673526,
        0.0000000000,  0.0000000000,  0.0000000000,  1.0000000000],
       image_dimension: [752, 480],
       distortion_type: equidistant,
       distortion_coefficients: [-0.010209777362601587, 0.048087321756956604, -0.07558294919338213, 0.04766022597027853],
       focal_length: [472.1798228792008, 471.56865502736963],
       principal_point: [372.1527343321873, 219.84816356781627]}

camera_params:
    camera_rate: 20
    sigma_absolute_translation: 0.0 #1.0e-8
    sigma_absolute_orientation: 0.0 #1.0e-3
    sigma_c_relative_translation: 0.0 #1.0e-6 # below 1.0e-6 ruines numerics...
    sigma_c_relative_orientation: 0.0 #1.0e-6 # below 1.0e-6 ruines numerics...
    timestamp_tolerance: 0.005 # seconds

# tranform Body-Sensor (IMU)
T_BS:
    [1.0000, 0.0000, 0.0000, 0.0000,
     0.0000, 1.0000, 0.0000, 0.0000,
     0.0000, 0.0000, 1.0000, 0.0000,
     0.0000, 0.0000, 0.0000, 1.0000]

imu_params:
    a_max: 176.0 #m/s^2
    g_max: 7.8 #rad/s
    sigma_g_c: 6.0e-4 #6.0e-4
    sigma_a_c: 2.0e-3 #2.0e-3
    sigma_gw_c: 3.0e-6 #3.0e-6
    sigma_aw_c: 2.0e-5 #2.0e-5
    tau: 3600.0
    g: 9.81007
    a0: [ 0.0, -0.0, 0.00 ]
    #[09:49:28] Joern: accelerometer_noise_density: 1.7e-3, accelerometer_random_walk: 6.3895e-005,
    imu_rate: 200
#gyroscope_noise_density: 0.2e-3, gyroscope_random_walk: 2.8577e-006

# dummy magnetometer
magnetometer_params:
    stdev: 2.0                           # measurement (white noise part) stdev [uT]
    biasPriorStdev: 5.0                  # prior [uT]
    zDistortionPriorStdev: 2.0           # prior [uT]
    tau_bias: 100.0                     # reversion time constant of bias [s]
    tau_zDistortion: 1000.0               # reversion time constant of z-component [s]
    biasDiffNoiseDensity: 1.0e-2         # bias noise density [uT/sqrt(Hz)]
    zDistortionDiffNoiseDensity: 1.0e-4  # z-component noise density [uT/sqrt(Hz)]

# use the IMU at all?
useImu: true

# VIO window parameters
numKeyframes: 5
numImuFrames: 3

# ceres optimization options
ceres_options:
    minIterations: 3
    maxIterations: 10
    timeLimit: 0.025      # [s] negative values will set the an unlimited time limit

# detection
detectionThreshold: 40.0
detectionOctaves: 0

# delay of images [s]: -8ms with zero-order hold integration at 200 Hz: makes sense.
imageDelay: 0.0 # -0.0055 without Joern's awesome synchronization, 0 otherwise

# display Images?
displayImages: false

# use direct driver
useDriver: false

# save optimization to disk
saveGraphs: false

# rate at which odometry updates are published
# only works properly if imu_rate/publish_rate is an integer!!
publish_rate: 20

publishing_options:
    landmarkQualityThreshold: 1.0e-5     # landmark with lower quality will not be published
    maximumLandmarkQuality: 0.05         # landmark with higher quality will be published with the maximum colour intensity
    maxPathLength: 20                    # maximum length of the published path
    publishImuPropagatedState: true      # publish state after each processed IMU measurement instead of after each processed image

